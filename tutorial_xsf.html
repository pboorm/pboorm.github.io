<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Using academicons -->
  <!-- <link rel="stylesheet" href="assets/academicons-1.9/css/academicons.min.css"/> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <!-- Using fontawesome -->
  <script src="https://kit.fontawesome.com/f5e5434f52.js" crossorigin="anonymous"></script>


  <!-- <link rel="apple-touch-icon" href="./favicon.ico" /> -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>XSF Tutorial</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
  <!-- <meta content="" name="description"> -->
  <!-- <meta content="" name="keywords"> -->
  <meta property="og:title" content="XSF Tutorial" />
  <meta property="og:locale" content="en_UK" />
  <meta name="description" content="XSF Tutorial" />
  <meta property="og:description" content="XSF Tutorial" />
  <link rel="canonical" href="https://peterboorman.com/" />
  <meta property="og:url" content="https://peterboorman.com/" />
  <meta property="og:site_name" content="XSF Tutorial" />
  <script type="application/ld+json">
  {"@type":"WebSite","headline":"XSF Tutorial","url":"https://peterboorman.com/tutorial_bxa.html","description":"XSF Tutorial","name":"XSF Tutorial","@context":"https://schema.org"}</script>

  <!-- Favicons -->
  <!-- <link href="assets/img/favicon.png" rel="icon"> -->
  <link href="favicon.ico" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: iPortfolio - v1.4.1
  * Template URL: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Mobile nav toggle button ======= -->
  <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="d-flex flex-column">
      <div class="profile">
        <a href="http://johannesbuchner.github.io/BXA/xspec-analysis.html#parameter-posterior-plots" target="_blank"><img src="figures/xsf_logo.png" alt="" class="img-fluid rounded-circle"></img></a>
        <p></p>
        <h1 class="specific"><a href="#welcome">XSF Tutorial</a></h1>
        <div class="social-links mt-3 text-center">
          <a href="mailto:peter.boorman@asu.cas.cz" class="email"><i class="bx bx-envelope"></i></a>
          <!-- <a href="https://twitter.com/boorm" class="twitter"><i class="bx bxl-twitter"></i></a> -->
          <!-- <a href="https://github.com/pboorm" class="github"><i class="bx bxl-github"></i></a> -->
          <!-- <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a> -->
          <!-- <a href="https://scholar.google.co.uk/citations?hl=en&user=KMBSQk0AAAAJ&view_op=list_works&gmla=AJsN-F7_Zd8SER40IpgqsThKe1j8238S_jmdhvl6o0_f8H2MzNxBQ774dnpndqenSKkK51UgPtJd1viFOjUek9fbEpgdq4ZIzQ" class="google-plus"><i class="ai ai-google-scholar"></i></a> -->
          <!-- <a href="https://linkedin.com/in/peter-boorman-5a745999" class="linkedin"><i class="bx bxl-linkedin"></i></a> -->
          <!-- <a href="https://orcid.org/0000-0001-9379-4716"><i class="fab fa-orcid"></i></a> -->
          <!-- <a href="https://ui.adsabs.harvard.edu/user/libraries/l9unchukSdu9eSTwLbnVVw" target="_blank"><i class="ai ai-ads"></i></a> -->
        </div>
      </div>

      <nav class="nav-menu">
        <ul>
          <li><a href="#welcome"><i class="bx bx-star"></i> <span>Welcome</span></a></li>
          <li><a href="#setup"><i class="icofont-fix-tools"></i> <span>Setup</span></a></li>
          <li><a href="#links"><i class="bx bx-bookmarks"></i> <span>Useful links</span></a></li>
          <li><a href="#xspec"><i class="bx bx-terminal"></i>Session 1 - Xspec</a></li>
          <li><a href="#xspec1"><i class="bx bx-chevron-right"></i>1.1 - fundamentals</a></li>
          <li><a href="#xspec2"><i class="bx bx-chevron-right"></i>1.2 - exercises</a></li>
          <li><a href="#xspec3"><i class="bx bx-chevron-right"></i>1.3 - tips & tricks</a></li>
          <li><a href="#pyxspec"><i class="bx bx-terminal"></i>Session 2 - PyXspec</a></li>
          <li><a href="#pyxspec1"><i class="bx bx-chevron-right"></i>2.1 - fundamentals</a></li>
          <li><a href="#pyxspec2"><i class="bx bx-chevron-right"></i>2.2 - exercises</a></li>
          <li><a href="#pyxspec3"><i class="bx bx-chevron-right"></i>2.3 - tips & tricks</a></li>
          <li><a href="#sherpa"><i class="bx bx-terminal"></i>Session 3 - Sherpa</a></li>
          <li><a href="#sherpa1"><i class="bx bx-chevron-right"></i>3.1 - fundamentals</a></li>
          <li><a href="#sherpa2"><i class="bx bx-chevron-right"></i>3.2 - exercises</a></li>
          <li><a href="#sherpa3"><i class="bx bx-chevron-right"></i>3.3 - tips & tricks</a></li>
          <li><p>&nbsp; </p></li>
          <li><p>&nbsp; </p></li>
          <li><p>&nbsp; </p></li>
          <li><p>&nbsp; </p></li>
          <li><p>&nbsp; </p></li>
          <li><p>&nbsp; </p></li>
        </ul>
      </nav><!-- .nav-menu -->
      <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

    </div>
  </header><!-- End Header -->

  <main id="main">

<!-- ======= Welcome Section ======= -->
    <section id="welcome" class="about">
      <div class="container">
        <div class="section-title">
            <h1><i class="bx bx-star"></i>&nbsp; <span class="typed" data-typed-items="Hello!, Dobrý den!, Kon'nichiwa!, Hallo!, Ciao!, Hola!, Mholweni!, Sawubona!, Marhaba!, Nǐ hǎo!, God dag!, Bonjour!, Shalom!, Namaste!, Zdravstvuyte!, Zdravo!, Ahoj!, Hallå!, Annyeonghaseyo!, Tena jistilign!, Moni!, Salama alaikum!, Ndêwó, Muraho!, Mbote!, Ki kati!, Malagasy!, Miarahaba!, Salibonani!, Dumêlang!, Ashamaa!, Dumela!, Mhoro!, Jambo!, Sawubona!, Selam!, Avuxeni!, Dumela!, Salaam aleekum, Molo!, Bawo!, Barev dzez!, Salam!, Assalamualaikum!, Nômoshkar!, Mingalarba!, Chum reap suor!, Néih hóu!, Kuzu-zangpo!, Gamarjoba!, Halo!, Salamatsyzby!, Sabaidee!, Namaskaram!, Sain baina uu!, Salaam!, Sat sri akal ji!, Āyubōvan!, Lí-hó!, Vaṇakkam!, Isänmesez!, Namaskārām!, Sà-wàt-dee!, Tashi delek!, Āssālam ‘alaykum!, Ässalamu läykum!, Assalomu aleykum!, Xin chào!, Tungjatjeta!, Kaixo!, Vitaju!, Demat!, Dobar dan!, Bok!, Tere!, Hyvää päivää!, Goeie!, Dia duit!, Halò!, Guten tag!, Yasass!, Szervusz!, Góðan dag!, Buon giorno!, Sveika!, Labas!, Moïen!, Dzień dobry!, Salut!, Živjo!, Dobriy den!, Helo!, A gutn tog!, As-salām ‘alaykum!, Merheba!, Merhaba!, Ni sa bula!, Aloha!, Tēnā koe!, Yokwe!, Alii!, Tālofa!, Ia ora na!, Gude!, Mālō e lelei!"></span></h1>
            <h3>Welcome to the <a target="_blank" href="xsf22.html">X-ray Spectral Fitting 2022 (XSF22)</a> tutorial page.</h3>
            </br>
          <p>The information and exercises on this page are to provide a sufficient background with <a href="" target="_blank">Xspec</a>/<a href="" target="_blank">PyXspec</a> and/or <a href="" target="_blank">Sherpa</a> to complete the <a href="tutorial_bxa.html" target="_blank">BXA tutorial exercises</a>. For a more in-depth description of the features available in Xspec/PyXSpec or Sherpa, see the <a href="links">useful links</a> below for the excellent online material provided by each software team.</p></br>
          <div class="col-lg-16">
            <a target="_blank" href="https://en.wikipedia.org/wiki/Levenberg–Marquardt_algorithm"><img src="figures/xsf_tutorial_banner.gif" class="img-fluid" alt=""></a>
          </div>
          </br>
          <p>For any questions/comments/suggestions concerning this tutorial, <a href="mailto:peter.boorman@asu.cas.cz" class="email">contact Peter Boorman</a>.</p>
        </div>
      </div>
    </section>
<!-- End Welcome Section -->


<section id="setup" class="services">
      <div class="container">

        <div class="section-title">
          <h2><i class="icofont-fix-tools"></i> Setup</h2>

          <h3>&#9888;&#65039; <font color="red">WARNING</font> &#9888;&#65039; BXA requires a working form of <a target="_blank" href="https://heasarc.gsfc.nasa.gov/xanadu/xspec/python/html/index.html">PyXspec</a> and/or <a target="_blank" href="https://cxc.cfa.harvard.edu/sherpa/">Sherpa</a>.</h3>
          <p>Make sure either of these are installed before doing the exercises!</p>
          </br>

          <h2>For PyXspec users</h2>
          <li>Using a conda environment (e.g. with <a target="_blank" href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>) should ensure no conflicts occur when installing the Python packages required for BXA.</li>
          <li>Using PyXspec with BXA may require a source distribution of HEASoft. See install instructions here:<br/><a target="_blank" href="https://heasarc.gsfc.nasa.gov/docs/software/heasoft/">https://heasarc.gsfc.nasa.gov/docs/software/heasoft/</a><br/></li>
          <li>Once the install process has finished, check PyXspec works by typing:
            <blockquote><p><code>$ conda activate bxa</code> (if using a specific conda environment, otherwise skip this step)<br/>
            <code>$ python -c 'from xspec import *'</code></p>
          </blockquote>
          </li>

          <h2>For Sherpa users</h2>
          <li>Install instructions for CIAO and Sherpa (optionally in a conda environment):<br/><a target="_blank" href="https://cxc.cfa.harvard.edu/ciao/download/">https://cxc.cfa.harvard.edu/ciao/download/</a><br/></li>
          <li>Once the install process has finished, check Sherpa works by typing:
          <blockquote><p><code>$ conda activate ciao</code><br/>
          <code>$ sherpa</code></p>
          </blockquote>
          </li>

          <h2>BXA installation</h2>
          <li>BXA package documentation with installation instructions:<br/><a target="_blank" href="https://johannesbuchner.github.io/BXA/#installation">https://johannesbuchner.github.io/BXA/#installation</a>
          <li>Check BXA was installed correctly:<br/>
          PyXspec:<br/><blockquote><p><code>$ python -c 'import ultranest'</code><br/>
          <code>$ python -c 'from xspec import *'</code><br/>
          <code>$ python -c 'import bxa.xspec as bxa'</code><br/></p>
          </blockquote>
          Sherpa:<br/><blockquote><p><code>$ python -c 'import ultranest'</code><br/>
          <code>$ python -c 'import bxa.sherpa as bxa'</code></p>
          </blockquote>
          </li>
        </div>
</section>

<section id="links" class="services">
      <div class="container">

        <div class="section-title">
          <h2><i class="bx bx-bookmarks"></i> Useful links</h2>
          <li><p>Xspec &amp; PyXspec documentation:<br/><a target="_blank" href="https://heasarc.gsfc.nasa.gov/xanadu/xspec/">https://heasarc.gsfc.nasa.gov/xanadu/xspec/</a><br/></p>
          </li>
          </br>
          <li><p>Xspec Facebook group:<br/><a target="_blank" href="https://www.facebook.com/groups/320119452570/?ref=share">https://www.facebook.com/groups/320119452570/?ref=share</a><br/></p>
          </li>
          </br>
          <li><p>Sherpa reference for commands:<br/><a target="_blank" href="https://cxc.cfa.harvard.edu/sherpa/ahelp/sherpa4.html">https://cxc.cfa.harvard.edu/sherpa/ahelp/sherpa4.html</a><br/></p>
          </li>
          </br>
          <li><p>Astrostatistics Facebook group:<br/><a target="_blank" href="https://www.facebook.com/groups/astro.r/?ref=share">https://www.facebook.com/groups/astro.r/?ref=share</a><br/></p>
          </li>
          </br>
          <li><p>X-ray Data Primer by CXC:<br/><a target="_blank" href="https://cxc.cfa.harvard.edu/cdo/xray_primer.pdf">https://cxc.cfa.harvard.edu/cdo/xray_primer.pdf</a><br/></p>
          </li>
          </br>
          <li><p>Information on C-statistics (&amp; modified C-statistics) used in Xspec &amp; Sherpa by Giacomo Vianello:<br/><a target="_blank" href="https://giacomov.github.io/Bias-in-profile-poisson-likelihood/">https://giacomov.github.io/Bias-in-profile-poisson-likelihood/</a><br/></p>
          </li>
          </br>
          <li><p>Sherpa script for fitting obscured AGN with BXA:<br/><a target="_blank" href="https://github.com/JohannesBuchner/BXA/blob/master/examples/sherpa/xagnfitter.py">https://github.com/JohannesBuchner/BXA/blob/master/examples/sherpa/xagnfitter.py</a><br/></p>
          </li>
          </br>
          <li><p>X-ray Spectral Fitting lectures by Johannes Buchner:<br/><a target="_blank" href="https://youtu.be/_r4ecpje7nE">https://youtu.be/_r4ecpje7nE</a><br/><a href="https://youtu.be/EIzhDG-0Ji8">https://youtu.be/EIzhDG-0Ji8</a><br/></p>
          </li>
          </br>
          <li><p>UltraNest documentation:<br><a target="_blank" href="https://johannesbuchner.github.io/UltraNest/readme.html">https://johannesbuchner.github.io/UltraNest/readme.html</a><br/></p>
          </li>
          </br>
          <li><p>Modified C-statistics (aka W-stat)<br><a target="_blank" href="https://giacomov.github.io/Bias-in-profile-poisson-likelihood/">https://giacomov.github.io/Bias-in-profile-poisson-likelihood/</a><br/></p>
          </li>
          </br>
          <li><p>BXA citation - Buchner et al., (2014; A&A)<br><a target="_blank" href="https://ui.adsabs.harvard.edu/abs/2014A%26A...564A.125B/abstract">https://ui.adsabs.harvard.edu/abs/2014A%26A...564A.125B/abstract</a><br/></p>
          </li>
          </br>
          <li><p>UltraNest citation - Buchner (2021, JOSS)<br><a target="_blank" href="https://arxiv.org/abs/2101.09604">https://arxiv.org/abs/2101.09604</a><br/></p>
          </li>
          </br>
          <li><p>Nested sampling review - Buchner (2021)<br><a target="_blank" href="https://arxiv.org/abs/2101.09675">https://arxiv.org/abs/2101.09675</a><br/></p>
          </li>
          </br>
          <li><p>PCA background - Simmonds et al., (2018, A&A)<br><a target="_blank" href="https://ui.adsabs.harvard.edu/abs/2018A%26A...618A..66S/abstract">https://ui.adsabs.harvard.edu/abs/2018A%26A...618A..66S/abstract</a><br/></p>
          </li>
          </br>
          <li><p>Simulation-based calibration of false-positive & false-negative rates - Baronchelli et al., (2018, MNRAS)<br><a target="_blank" href="https://ui.adsabs.harvard.edu/abs/2018MNRAS.480.2377B/abstract">https://ui.adsabs.harvard.edu/abs/2018MNRAS.480.2377B/abstract</a><br/></p>
          </li>
          </br>
          <li><p>Bayesian Hierarchical Modelling:</p>
          <ul>
          <li>Baronchelli et al., (2020, MNRAS), Section A1<br><a target="_blank" href="https://ui.adsabs.harvard.edu/abs/2020MNRAS.498.5284B/abstract">https://ui.adsabs.harvard.edu/abs/2020MNRAS.498.5284B/abstract</a></li>
          <li>Kuraszkiewicz et al., (2021, ApJ), Section A1<br><a target="_blank" href="https://ui.adsabs.harvard.edu/abs/2021ApJ...913..134K/abstract">https://ui.adsabs.harvard.edu/abs/2021ApJ...913..134K/abstract</a></li>
          <li>Liu et al., (2021, arXiv), Section 3.7<br><a target="_blank" href="https://ui.adsabs.harvard.edu/abs/2021arXiv210614522L/abstract">https://ui.adsabs.harvard.edu/abs/2021arXiv210614522L/abstract</a></li>
          </ul>
          </li>
          </br>
          <li><p>PosteriorStacker (for deriving sample distributions from individual source posterior distributions)<br><a target="_blank" href="https://github.com/JohannesBuchner/PosteriorStacker">https://github.com/JohannesBuchner/PosteriorStacker</a><br/></p>
          </li>
          </br>
          <li><p>example_advanced_priors.py (shows how to include custom priors in BXA)<br><a target="_blank" href="https://github.com/JohannesBuchner/BXA/blob/master/examples/xspec/example_advanced_priors.py">https://github.com/JohannesBuchner/BXA/blob/master/examples/xspec/example_advanced_priors.py</a><br/></p>
          </li>
          </br>
          <li><p>Do you know of any others? Please get in touch!</p>
          </li>
          </br>
        </div>
</section>

<section id="xspec" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-terminal"></i> Session 1 - Xspec</h2>
          <p>Key objectives:</p>
          <li>Fit a spectrum with BXA in Sherpa and/or PyXspec</li>
          <li>Use Bayes factors to perform model comparison</li>
          <li>Visualise the confidence ranges on each parameter</li></br>
        </div>
      </div>
</section>

<section id="xspec1" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 1.1 - fundamentals</h2>
        </div>
      </div>
</section>

<section id="xspec2" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 1.2 - exercises</h2>
        </div>
      </div>
</section>

<section id="xspec3" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 1.3 - tips & tricks</h2>
        </div>
      </div>
</section>




<section id="pyxspec" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-terminal"></i> Session 2 - PyXspec</h2>
          <p>Key objectives:</p>
          <li>Fit a spectrum with BXA in Sherpa and/or PyXspec</li>
          <li>Use Bayes factors to perform model comparison</li>
          <li>Visualise the confidence ranges on each parameter</li></br>
        </div>
      </div>
</section>

<section id="pyxspec1" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 2.1 - fundamentals</h2>
        </div>
      </div>
</section>

<section id="pyxspec2" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 2.2 - exercises</h2>
        </div>
      </div>
</section>

<section id="pyxspec3" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 2.3 - tips & tricks</h2>
        </div>
      </div>
</section>





<section id="sherpa" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-terminal"></i> Session 3 - Sherpa</h2>
          <p>Key objectives:</p>
          <li>Fit a spectrum with BXA in Sherpa and/or PyXspec</li>
          <li>Use Bayes factors to perform model comparison</li>
          <li>Visualise the confidence ranges on each parameter</li></br>
        </div>
      </div>
</section>

<section id="sherpa1" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 3.1 - fundamentals</h2>
        </div>
      </div>
</section>

<section id="sherpa2" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 3.2 - exercises</h2>
        </div>
      </div>
</section>

<section id="sherpa3" class="services">
      <div class="container">
        <div class="section-title">
          <h2><i class="bx bx-chevron-right"></i> 3.3 - tips & tricks</h2>
        </div>
      </div>
</section>


</main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="social-links mt-3 text-left">
          <a href="xsf22.html"><i class="bx bx-arrow-back"></i></a>
        </div>
      <!-- <div class="copyright">
        <a target="_blank" href="https://peterboorman.com"><i class="bx bx-arrow-back"></i> </a>
      </div> -->
      <!-- <div class="credits"> -->
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/ -->
        <!-- Design: <a href="https://bootstrapmade.com/">BootstrapMade</a> -->
      <!-- </div> -->
    </div>
  </footer>
  <!-- End  Footer -->

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>